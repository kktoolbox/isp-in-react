(this["webpackJsonpisp-in-react"]=this["webpackJsonpisp-in-react"]||[]).push([[0],{24:function(e,t,n){e.exports=n(34)},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),l=n.n(c),o=n(11),i=n(39),u=n(36),s=function(e){e.id;var t=e.name;return r.a.createElement(u.a,{variant:"primary",className:"mr-2"},t)},m=function(e){var t=e.title,n=e.categories,a=e.abstract;return r.a.createElement(i.a,null,r.a.createElement(i.a.Body,null,r.a.createElement(i.a.Title,null,t),r.a.createElement("div",{className:"mb-4"},n.map((function(e){return r.a.createElement(s,{key:e.id,id:e.id,name:e.name})}))),r.a.createElement(i.a.Text,null,a)))},f=n(38),d=n(40),E=function(e){var t=e.onCreate,n=Object(a.useRef)(null),c=Object(a.useRef)(null),l=Object(a.useRef)(null),i=Object(a.useRef)(null),u=Object(a.useState)(!1),s=Object(o.a)(u,2),m=s[0],E=s[1];return r.a.createElement(f.a,{ref:n},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Title"),r.a.createElement(f.a.Control,{ref:c,placeholder:"title"})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Category"),r.a.createElement(f.a.Control,{ref:l,placeholder:"category"})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Content"),r.a.createElement(f.a.Control,{ref:i,placeholder:"content",as:"textarea",rows:5})),r.a.createElement("div",{className:"text-right"},r.a.createElement(d.a,{variant:"primary",disabled:m,onClick:function(){return E(!0),void(t&&t({values:{title:c.current?c.current.value:"",categories:l.current?l.current.value:"",content:i.current?i.current.value:""},onSuccess:function(){n.current&&n.current.reset()},onError:function(e){console.error(e)},onFinally:function(){E(!1)}}))}},m?r.a.createElement("i",{className:"fas fa-spinner fa-pulse"}):"Create")))},p=n(37),v=function(e){var t=e.renderTrigger,n=e.id,c=e.title,l=e.categories,i=e.content,u=Object(a.useContext)(h).handleDelete,m=Object(a.useState)(!1),f=Object(o.a)(m,2),E=f[0],v=f[1],g=Object(a.useState)(!1),b=Object(o.a)(g,2),y=b[0],O=b[1];return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement("div",{className:"cursor-pointer",onClick:function(){return v(!0)}},t),r.a.createElement(p.a,{show:E,onHide:function(){return v(!1)}},r.a.createElement(p.a.Header,{closeButton:!0},r.a.createElement(p.a.Title,null,c)),r.a.createElement(p.a.Body,null,r.a.createElement("div",{className:"mb-4"},l.map((function(e){return r.a.createElement(s,Object.assign({key:e.id},e))}))),r.a.createElement("div",null,i)),r.a.createElement(p.a.Footer,null,r.a.createElement(d.a,{variant:"secondary",disabled:y,onClick:function(){O(!0),u&&u({id:n,onError:function(){return O(!1)}})}},y?r.a.createElement("i",{className:"fas fa-spinner fa-pulse"}):r.a.createElement("i",{className:"fas fa-trash-alt"})))))},g=function(e){var t=e.notes,n=e.onCreate;return r.a.createElement("div",{className:"row py-5"},r.a.createElement("div",{className:"col-6"},t.map((function(e){return r.a.createElement("div",{key:e.id,className:"mb-4"},r.a.createElement(v,Object.assign({},e,{renderTrigger:r.a.createElement(m,e)})))}))),r.a.createElement("div",{className:"col-6"},r.a.createElement(E,{onCreate:n})))},b=function(){return new Promise((function(e,t){setTimeout((function(){try{var t=JSON.parse(localStorage.getItem("notes")||"[]");e(t)}catch(n){console.error(n),e([])}}),1e3)}))},h=Object(a.createContext)({handleDelete:null}),y=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){b().then((function(e){c(e)}))}),[]);var l=n.map((function(e){return{id:e.id,title:e.title,categories:e.categories.split(" ").map((function(e){return{id:"category-".concat(e),name:e}})),content:e.content,abstract:e.abstract||"",lastUpdate:e.lastUpdate||0}}));return r.a.createElement(h.Provider,{value:{handleDelete:function(e){var t=e.id,n=e.onSuccess,a=e.onError,r=e.onFinally;(function(e){return new Promise((function(t,n){setTimeout((function(){try{var a=JSON.parse(localStorage.getItem("notes")||"[]").filter((function(t){return t.id!==e}));localStorage.setItem("notes",JSON.stringify(a)),t("200 ok")}catch(r){n(r)}}),2e3)}))})(t).then((function(){b().then((function(e){c(e)})),n&&n()})).catch((function(e){return a&&a(e)})).finally((function(){return r&&r()}))}}},r.a.createElement(g,{notes:l,onCreate:function(e){var t=e.values,n=e.onSuccess,a=e.onError,r=e.onFinally;(function(e){var t=e.title,n=e.categories,a=e.content,r=Date.now();return new Promise((function(e,c){setTimeout((function(){try{var l=JSON.parse(localStorage.getItem("notes")||"[]");l.push({id:"note-".concat(r),title:t,categories:n,abstract:a.slice(0,30),content:a,lastUpdate:r}),localStorage.setItem("notes",JSON.stringify(l)),e("200 ok")}catch(o){c(o)}}),2e3)}))})({title:t.title,categories:t.categories,content:t.content}).then((function(){b().then((function(e){c(e)})),n&&n()})).catch((function(e){return a&&a(e)})).finally((function(){return r&&r()}))}}))},O=function(){return r.a.createElement("div",{className:"container py-5",id:"App"},r.a.createElement("h1",{className:"mb-5"},r.a.createElement("i",{className:"fas fa-book mr-2"}),r.a.createElement("span",null,"Note Book")),r.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(33);l.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.6cef7dac.chunk.js.map